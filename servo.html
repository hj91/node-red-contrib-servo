<!--
servo.html - Copyright 2024 Harshad Joshi and Bufferstack.IO Analytics Technology LLP, Pune.

Licensed under the GNU General Public License, Version 3.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    https://www.gnu.org/licenses/gpl-3.0.html

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
-->

<script type="text/javascript">
    RED.nodes.registerType('servo', {
        category: 'Bufferstack.IO',
        color: '#a6bbcf',
        defaults: {
            name: { value: "" }
        },
        inputs: 1,
        outputs: 1,
        icon: "timer.png",
        label: function() {
            return this.name || "servo";
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: function() {
            // Code to run when the edit dialog is opened
        }
    });
</script>

<script type="text/html" data-template-name="servo">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Servo Controller">
    </div>
    <div class="form-tips">
        <p>Use MQTT or inject nodes to send 'start', 'stop', 'reset', or 'resume' commands.</p>
        <p>Send 'from', 'to', and 'duration' topics with numeric payloads to configure stepping range.</p>
    </div>
</script>

<script type="text/html" data-help-name="servo">
    <p>A servo control node that moves a value from one position to another over a configurable duration.</p>
    <p>Send numeric values for 'from', 'to', and 'duration' using their respective topics to set the range and timing for the servo control.</p>
    <p>Messages with a boolean <code>true</code> payload and the following topics can control the servo movement:</p>
    <ul>
        <li><code>"start"</code> - begins the servo operation</li>
        <li><code>"stop"</code> - pauses the servo operation</li>
        <li><code>"reset"</code> - resets the servo to the 'from' value</li>
        <li><code>"resume"</code> - resumes the servo operation from the paused position</li>
    </ul>
    <p>Ensure that 'from', 'to', and 'duration' are provided as numeric values in the respective topics.</p>
</script>

